# Oracle WMS Tap - Environment Configuration Template
# Based on ConfigMapper system with externalized specifications

# =============================================================================
# CORE CONNECTION SETTINGS (REQUIRED)
# =============================================================================
TAP_ORACLE_WMS_BASE_URL=https://your-wms-server.com
TAP_ORACLE_WMS_USERNAME=your-username
TAP_ORACLE_WMS_PASSWORD=your-password

# =============================================================================
# CONFIGURATION PROFILE SYSTEM (RECOMMENDED)
# Uses company-specific profiles for streamlined configuration
# =============================================================================
WMS_PROFILE_NAME=your_company

# Available profiles (create in config/profiles/):
# - client-b.json (client-b Brazil configuration)
# - company_a.json (Template for Company A)
# - development.json (Development environment)
# - production.json (Production environment)

# =============================================================================
# API CONFIGURATION (optional overrides)
# These override profile settings if specified
# =============================================================================
WMS_API_VERSION=v10
WMS_ENDPOINT_PREFIX=/wms/lgfapi
WMS_PAGE_MODE=sequenced
WMS_REPLICATION_KEY=mod_ts

# =============================================================================
# PERFORMANCE SETTINGS (optional overrides)
# =============================================================================
WMS_PAGE_SIZE=100
WMS_MAX_PAGE_SIZE=5000
WMS_REQUEST_TIMEOUT=120
WMS_MAX_RETRIES=3
WMS_RETRY_BACKOFF_FACTOR=1.5
WMS_CACHE_TTL_SECONDS=3600
WMS_CONNECTION_POOL_SIZE=5

# Discovery and authentication timeouts
WMS_DISCOVERY_TIMEOUT=30
WMS_AUTH_TIMEOUT=30

# =============================================================================
# BUSINESS LOGIC CONFIGURATION (optional overrides)
# =============================================================================
WMS_COMPANY_CODE=*
WMS_FACILITY_CODE=*
WMS_COMPANY_TIMEZONE=UTC
WMS_CURRENCY_CODE=USD
WMS_FISCAL_YEAR_START_MONTH=1

# =============================================================================
# INCREMENTAL SYNC SETTINGS (optional overrides)
# =============================================================================
WMS_INCREMENTAL_OVERLAP_MINUTES=5
WMS_LOOKBACK_MINUTES=5

# =============================================================================
# ENTITY CONFIGURATION (optional overrides)
# =============================================================================
WMS_ENTITIES=allocation,order_hdr,order_dtl

# Entity-specific primary keys (optional)
WMS_ENTITY_ALLOCATION_PRIMARY_KEYS=company_code,facility_code,allocation_id
WMS_ENTITY_ORDER_HDR_PRIMARY_KEYS=company_code,facility_code,order_nbr
WMS_ENTITY_ORDER_DTL_PRIMARY_KEYS=company_code,facility_code,order_nbr,order_line_nbr

# =============================================================================
# AUTHENTICATION CONFIGURATION (optional overrides)
# =============================================================================
WMS_AUTH_METHOD=basic

# OAuth2 settings (if using OAuth2 instead of basic auth)
# WMS_OAUTH_SCOPE=https://instance.wms.ocs.oraclecloud.com:443/urn:opc:resource:consumer::all
# WMS_OAUTH_CLIENT_ID=your-client-id
# WMS_OAUTH_CLIENT_SECRET=your-client-secret
# WMS_OAUTH_TOKEN_URL=https://your-oauth-server.com/token

# =============================================================================
# CUSTOM HEADERS (optional overrides)
# =============================================================================
WMS_USER_AGENT=tap-oracle-wms/0.2.0
# WMS_CUSTOM_HEADERS_JSON={"X-Custom-Header":"value","X-Another":"value"}

# =============================================================================
# TARGET DATABASE CONFIGURATION (optional overrides)
# =============================================================================
WMS_TARGET_SCHEMA=WMS_SYNC
WMS_TABLE_PREFIX=WMS_

# =============================================================================
# STATUS MAPPINGS (JSON format - optional overrides)
# =============================================================================
WMS_ALLOCATION_STATUS_MAPPING_JSON={"ALLOCATED":"Active","RESERVED":"Active","PICKED":"Fulfilled","SHIPPED":"Fulfilled","CANCELLED":"Cancelled"}
WMS_ORDER_STATUS_MAPPING_JSON={"NEW":"Created","CONFIRMED":"Confirmed","IN_PROGRESS":"Processing","COMPLETED":"Completed","CANCELLED":"Cancelled"}

# =============================================================================
# FIELD TYPE PATTERNS FOR ORACLE DDL (JSON format - optional overrides)
# =============================================================================
WMS_FIELD_TYPE_PATTERNS_JSON={"_id$":"NUMBER","_qty$":"NUMBER(15,3)","_flg$":"CHAR(1)","_ts$":"TIMESTAMP","_code$":"VARCHAR2(50)","_desc$":"VARCHAR2(500)"}

# =============================================================================
# TARGET ORACLE DATABASE (for meltano targets)
# =============================================================================
TARGET_ORACLE_HOST=your-oracle-server.com
TARGET_ORACLE_PORT=1521
TARGET_ORACLE_SERVICE_NAME=your_service
TARGET_ORACLE_USERNAME=your_target_user
TARGET_ORACLE_PASSWORD=your_target_password

# =============================================================================
# CONFIGURATION HIERARCHY (highest to lowest precedence):
# =============================================================================
# 1. Individual WMS_* environment variables (this file)
# 2. WMS_PROFILE_NAME profile settings (config/profiles/your_company.json)
# 3. ConfigMapper default values (sensible fallbacks in code)
#
# BENEFITS:
# - Company-specific profiles for easy deployment
# - Environment-based overrides for flexibility
# - No hardcoded values in meltano.yml
# - Consistent configuration across projects
# - Easy maintenance and version control
